<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<svg viewBox="0 0 1600 1100" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="1600" height="1100" fill="#f8f9fa"/>

    <!-- Title -->
    <text x="800" y="30" font-size="24" font-weight="bold" text-anchor="middle" fill="#0080FF">Music Release Automation Platform - Final Architecture</text>

    <!-- User Computer Section -->
    <g id="user-section">
        <rect x="20" y="60" width="200" height="150" fill="#e3f2fd" stroke="#1976D2" stroke-width="2" rx="5"/>
        <text x="120" y="85" font-size="16" font-weight="bold" text-anchor="middle">User Browser</text>

        <!-- Computer Icon -->
        <rect x="70" y="100" width="100" height="70" fill="#1976D2" rx="3"/>
        <rect x="75" y="105" width="90" height="55" fill="#e3f2fd"/>
        <rect x="90" y="170" width="60" height="10" fill="#1976D2"/>
        <rect x="110" y="180" width="20" height="20" fill="#1976D2"/>

        <text x="120" y="130" font-size="12" text-anchor="middle">Chrome/Safari</text>
        <text x="120" y="145" font-size="12" text-anchor="middle">React App</text>
    </g>

    <!-- Connection arrows from user -->
    <path d="M 220 135 L 280 135" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>
    <text x="250" y="130" font-size="11" text-anchor="middle">HTTPS</text>

    <!-- Cloudflare CDN -->
    <g id="cloudflare">
        <rect x="280" y="60" width="160" height="150" fill="#F38020" stroke="#E67E22" stroke-width="2" rx="5"/>
        <text x="360" y="85" font-size="16" font-weight="bold" text-anchor="middle" fill="white">Cloudflare</text>
        <text x="360" y="105" font-size="12" text-anchor="middle" fill="white">CDN + WAF</text>
        <text x="360" y="125" font-size="11" text-anchor="middle" fill="white">DDoS Protection</text>
        <text x="360" y="145" font-size="11" text-anchor="middle" fill="white">SSL Certificate</text>
        <text x="360" y="165" font-size="11" text-anchor="middle" fill="white">Cache Static Files</text>

        <!-- Security icons -->
        <circle cx="320" cy="185" r="15" fill="#27AE60"/>
        <text x="320" y="190" font-size="12" text-anchor="middle" fill="white">üîí</text>
        <circle cx="360" cy="185" r="15" fill="#27AE60"/>
        <text x="360" y="190" font-size="12" text-anchor="middle" fill="white">üõ°Ô∏è</text>
        <circle cx="400" cy="185" r="15" fill="#27AE60"/>
        <text x="400" y="190" font-size="12" text-anchor="middle" fill="white">‚ö°</text>
    </g>

    <!-- Main VPS Container -->
    <g id="main-vps">
        <rect x="500" y="60" width="900" height="650" fill="#e8f0fe" stroke="#0080FF" stroke-width="3" rx="10"/>
        <text x="950" y="85" font-size="18" font-weight="bold" text-anchor="middle" fill="#005eb8">VPS Server (Digital Ocean) - 16GB RAM, 8 vCPU</text>

        <!-- Docker Container -->
        <rect x="520" y="110" width="860" height="580" fill="#f0f8ff" stroke="#2196F3" stroke-width="2" stroke-dasharray="5,5" rx="5"/>
        <text x="950" y="130" font-size="16" font-weight="bold" text-anchor="middle" fill="#1976D2">Docker Containers</text>

        <!-- Traefik -->
        <rect x="540" y="150" width="200" height="90" fill="#00BCD4" stroke="#0097A7" stroke-width="2" rx="5"/>
        <text x="640" y="175" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Traefik</text>
        <text x="640" y="195" font-size="12" text-anchor="middle" fill="white">Reverse Proxy</text>
        <text x="640" y="215" font-size="11" text-anchor="middle" fill="white">Auto SSL + Routes</text>
        <text x="640" y="230" font-size="10" text-anchor="middle" fill="white">:80, :443</text>

        <!-- Next.js Frontend -->
        <rect x="780" y="150" width="200" height="90" fill="#000000" stroke="#333" stroke-width="2" rx="5"/>
        <text x="880" y="175" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Next.js Frontend</text>
        <text x="880" y="195" font-size="12" text-anchor="middle" fill="white">React + Shadcn UI</text>
        <text x="880" y="215" font-size="11" text-anchor="middle" fill="white">SSR + Client</text>
        <text x="880" y="230" font-size="10" text-anchor="middle" fill="white">Port 3000</text>

        <!-- Laravel API -->
        <rect x="1020" y="150" width="200" height="90" fill="#FF2D20" stroke="#cc0000" stroke-width="2" rx="5"/>
        <text x="1120" y="175" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Laravel API</text>
        <text x="1120" y="195" font-size="12" text-anchor="middle" fill="white">Sanctum Auth</text>
        <text x="1120" y="215" font-size="11" text-anchor="middle" fill="white">REST API</text>
        <text x="1120" y="230" font-size="10" text-anchor="middle" fill="white">Port 8000</text>

        <!-- Automation Service -->
        <rect x="1240" y="150" width="120" height="90" fill="#47A248" stroke="#2e7d2f" stroke-width="2" rx="5"/>
        <text x="1300" y="170" font-size="13" font-weight="bold" text-anchor="middle" fill="white">Automation</text>
        <text x="1300" y="190" font-size="11" text-anchor="middle" fill="white">Node.js</text>
        <text x="1300" y="205" font-size="11" text-anchor="middle" fill="white">Puppeteer</text>
        <text x="1300" y="220" font-size="10" text-anchor="middle" fill="white">Port 3001</text>

        <!-- Queue Workers -->
        <rect x="540" y="270" width="200" height="90" fill="#6B46C1" stroke="#4a2d84" stroke-width="2" rx="5"/>
        <text x="640" y="295" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Queue Workers</text>
        <text x="640" y="315" font-size="12" text-anchor="middle" fill="white">Laravel Horizon</text>
        <text x="640" y="335" font-size="11" text-anchor="middle" fill="white">3 workers</text>
        <text x="640" y="350" font-size="10" text-anchor="middle" fill="white">Background Jobs</text>

        <!-- MySQL -->
        <rect x="780" y="270" width="200" height="90" fill="#4479A1" stroke="#005b8a" stroke-width="2" rx="5"/>
        <text x="880" y="295" font-size="14" font-weight="bold" text-anchor="middle" fill="white">MySQL 8.0</text>
        <text x="880" y="315" font-size="12" text-anchor="middle" fill="white">Primary Database</text>
        <text x="880" y="335" font-size="11" text-anchor="middle" fill="white">All App Data</text>
        <text x="880" y="350" font-size="10" text-anchor="middle" fill="white">Port 3306</text>

        <!-- Redis -->
        <rect x="1020" y="270" width="200" height="90" fill="#DC382D" stroke="#a02622" stroke-width="2" rx="5"/>
        <text x="1120" y="295" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Redis</text>
        <text x="1120" y="315" font-size="12" text-anchor="middle" fill="white">Cache + Queue</text>
        <text x="1120" y="335" font-size="11" text-anchor="middle" fill="white">Sessions</text>
        <text x="1120" y="350" font-size="10" text-anchor="middle" fill="white">Port 6379</text>

        <!-- Monitoring Stack -->
        <rect x="540" y="390" width="440" height="90" fill="#E6522C" stroke="#b33e1f" stroke-width="2" rx="5"/>
        <text x="760" y="415" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Monitoring Stack (Optional)</text>
        <text x="760" y="435" font-size="12" text-anchor="middle" fill="white">Prometheus + Grafana + Loki</text>
        <text x="760" y="455" font-size="11" text-anchor="middle" fill="white">Metrics, Dashboards, Logs</text>
        <text x="760" y="470" font-size="10" text-anchor="middle" fill="white">Port 3030 (Grafana)</text>

        <!-- Backup Service -->
        <rect x="1020" y="390" width="200" height="90" fill="#FFC107" stroke="#F57C00" stroke-width="2" rx="5"/>
        <text x="1120" y="415" font-size="14" font-weight="bold" text-anchor="middle" fill="white">Backup Service</text>
        <text x="1120" y="435" font-size="12" text-anchor="middle" fill="white">Restic</text>
        <text x="1120" y="455" font-size="11" text-anchor="middle" fill="white">Daily Backups</text>
        <text x="1120" y="470" font-size="10" text-anchor="middle" fill="white">‚Üí DO Spaces</text>

        <!-- Docker Volumes -->
        <rect x="540" y="510" width="680" height="160" fill="#fff9e6" stroke="#FFB300" stroke-width="2" rx="5"/>
        <text x="880" y="535" font-size="14" font-weight="bold" text-anchor="middle">Docker Volumes (Persistent Storage)</text>

        <rect x="560" y="550" width="150" height="100" fill="#FFE082" stroke="#F9A825" stroke-width="1" rx="3"/>
        <text x="635" y="575" font-size="12" font-weight="bold" text-anchor="middle">mysql-data</text>
        <text x="635" y="595" font-size="11" text-anchor="middle">Database files</text>
        <text x="635" y="615" font-size="11" text-anchor="middle">User data</text>
        <text x="635" y="635" font-size="11" text-anchor="middle">~5-10GB</text>

        <rect x="730" y="550" width="150" height="100" fill="#FFE082" stroke="#F9A825" stroke-width="1" rx="3"/>
        <text x="805" y="575" font-size="12" font-weight="bold" text-anchor="middle">redis-data</text>
        <text x="805" y="595" font-size="11" text-anchor="middle">Cache data</text>
        <text x="805" y="615" font-size="11" text-anchor="middle">Queue jobs</text>
        <text x="805" y="635" font-size="11" text-anchor="middle">~1GB</text>

        <rect x="900" y="550" width="150" height="100" fill="#FFE082" stroke="#F9A825" stroke-width="1" rx="3"/>
        <text x="975" y="575" font-size="12" font-weight="bold" text-anchor="middle">app-logs</text>
        <text x="975" y="595" font-size="11" text-anchor="middle">Laravel logs</text>
        <text x="975" y="615" font-size="11" text-anchor="middle">Error tracking</text>
        <text x="975" y="635" font-size="11" text-anchor="middle">~500MB</text>

        <rect x="1070" y="550" width="130" height="100" fill="#FFE082" stroke="#F9A825" stroke-width="1" rx="3"/>
        <text x="1135" y="575" font-size="12" font-weight="bold" text-anchor="middle">traefik-certs</text>
        <text x="1135" y="595" font-size="11" text-anchor="middle">SSL certs</text>
        <text x="1135" y="615" font-size="11" text-anchor="middle">Let's Encrypt</text>
        <text x="1135" y="635" font-size="11" text-anchor="middle">~10MB</text>
    </g>

    <!-- Digital Ocean Spaces -->
    <g id="do-spaces">
        <rect x="1440" y="390" width="140" height="160" fill="#0080FF" stroke="#005eb8" stroke-width="2" rx="5"/>
        <text x="1510" y="415" font-size="14" font-weight="bold" text-anchor="middle" fill="white">DO Spaces</text>
        <text x="1510" y="435" font-size="11" text-anchor="middle" fill="white">Object Storage</text>

        <rect x="1450" y="450" width="120" height="30" fill="#005eb8" rx="3"/>
        <text x="1510" y="470" font-size="11" text-anchor="middle" fill="white">User Uploads</text>

        <rect x="1450" y="485" width="120" height="30" fill="#005eb8" rx="3"/>
        <text x="1510" y="505" font-size="11" text-anchor="middle" fill="white">Processed Files</text>

        <rect x="1450" y="520" width="120" height="25" fill="#005eb8" rx="3"/>
        <text x="1510" y="537" font-size="11" text-anchor="middle" fill="white">Backups</text>
    </g>

    <!-- External Services Section -->
    <g id="external-services">
        <rect x="20" y="250" width="200" height="520" fill="#fff" stroke="#ddd" stroke-width="2" rx="5"/>
        <text x="120" y="275" font-size="16" font-weight="bold" text-anchor="middle">External Services</text>

        <!-- Spotify -->
        <circle cx="70" cy="310" r="25" fill="#1DB954"/>
        <text x="70" y="315" font-size="12" text-anchor="middle" fill="white">Spotify</text>
        <text x="120" y="315" font-size="12">for Artists</text>

        <!-- Apple Music -->
        <circle cx="70" cy="370" r="25" fill="#FC3C44"/>
        <text x="70" y="375" font-size="12" text-anchor="middle" fill="white">Apple</text>
        <text x="120" y="375" font-size="12">Music</text>

        <!-- YouTube -->
        <rect x="45" y="405" width="50" height="35" fill="#FF0000" rx="5"/>
        <text x="70" y="428" font-size="12" text-anchor="middle" fill="white">YouTube</text>
        <text x="120" y="430" font-size="12">API</text>
        <!-- Believe -->
        <rect x="45" y="460" width="50" height="35" fill="#0066CC" rx="5"/>
        <text x="70" y="478" font-size="12" text-anchor="middle" fill="white">Believe</text>
        <text x="120" y="478" font-size="12">Backstage</text>

        <!-- OpenAI -->
        <rect x="45" y="515" width="50" height="35" fill="#412991" rx="5"/>
        <text x="70" y="533" font-size="12" text-anchor="middle" fill="white">OpenAI</text>
        <text x="120" y="533" font-size="12">API</text>

        <!-- Cloud Storage -->
        <rect x="45" y="570" width="50" height="35" fill="#4285F4" rx="5"/>
        <text x="70" y="588" font-size="12" text-anchor="middle" fill="white">Drive</text>
        <text x="120" y="588" font-size="12">Dropbox</text>

        <!-- SubmitHub -->
        <rect x="45" y="625" width="50" height="35" fill="#FF6B6B" rx="5"/>
        <text x="70" y="643" font-size="12" text-anchor="middle" fill="white">Submit</text>
        <text x="120" y="643" font-size="12">Hub</text>

        <!-- Email Services -->
        <rect x="45" y="680" width="50" height="35" fill="#EA4335" rx="5"/>
        <text x="70" y="698" font-size="12" text-anchor="middle" fill="white">Email</text>
        <text x="120" y="698" font-size="12">SMTP</text>
    </g>

    <!-- Communication Flow Arrows -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
        </marker>
        <marker id="arrowhead-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#0080FF" />
        </marker>
        <marker id="arrowhead-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#FF2D20" />
        </marker>
    </defs>

    <!-- User Flow -->
    <path d="M 440 135 L 500 135" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 640 150 L 640 270" stroke="#333" stroke-width="2" stroke-dasharray="3,3"/>
    <path d="M 740 195 L 780 195" stroke="#0080FF" stroke-width="2" marker-end="url(#arrowhead-blue)"/>
    <path d="M 980 195 L 1020 195" stroke="#FF2D20" stroke-width="2" marker-end="url(#arrowhead-red)"/>

    <!-- Internal connections -->
    <path d="M 880 240 L 880 270" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 1120 240 L 1120 270" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 640 360 L 780 315" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 740 315 L 780 315" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 980 315 L 1020 315" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
    <path d="M 1220 435 L 1440 470" stroke="#FFC107" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="5,5"/>

    <!-- External Services connections from Laravel -->
    <g id="external-connections">
        <!-- OpenAI -->
        <path d="M 1020 195 Q 500 500 220 530" stroke="#412991" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="3,3" fill="none"/>
        <text x="600" y="400" font-size="11" fill="#412991">AI Pitch Generation</text>

        <!-- Spotify/Apple/YouTube via Automation -->
        <path d="M 1240 195 Q 800 500 220 310" stroke="#47A248" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="3,3" fill="none"/>
        <path d="M 1240 195 Q 800 500 220 370" stroke="#47A248" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="3,3" fill="none"/>
        <path d="M 1240 195 Q 800 500 220 420" stroke="#47A248" stroke-width="2" marker-end="url(#arrowhead)" stroke-dasharray="3,3" fill="none"/>
        <text x="730" y="480" font-size="11" fill="#47A248">UI Automation</text>

        <!-- Direct API calls from Laravel -->
        <path d="M 1020 195 Q 600 600 220 640" stroke="#FF2D20" stroke-width="2" marker-end="url(#arrowhead-red)" stroke-dasharray="3,3" fill="none"/>
        <path d="M 1020 195 Q 600 650 220 690" stroke="#FF2D20" stroke-width="2" marker-end="url(#arrowhead-red)" stroke-dasharray="3,3" fill="none"/>
        <text x="600" y="550" font-size="11" fill="#FF2D20">Direct API Calls</text>
    </g>

    <!-- Request Flow Description -->
    <g id="flow-description">
        <rect x="20" y="800" width="1560" height="280" fill="#f0f4f8" stroke="#ddd" stroke-width="2" rx="5"/>
        <text x="800" y="825" font-size="18" font-weight="bold" text-anchor="middle">Request Flow & Architecture Details</text>

        <!-- Flow items -->
        <g id="flow-items">
            <rect x="40" y="850" width="360" height="100" fill="#fff" stroke="#ddd" rx="5"/>
            <text x="50" y="875" font-size="14" font-weight="bold">1. User Authentication Flow</text>
            <text x="50" y="895" font-size="12">‚Ä¢ User ‚Üí Next.js ‚Üí Laravel Sanctum</text>
            <text x="50" y="915" font-size="12">‚Ä¢ Laravel validates ‚Üí Returns token</text>
            <text x="50" y="935" font-size="12">‚Ä¢ Next.js stores token ‚Üí Auth complete</text>

            <rect x="420" y="850" width="360" height="100" fill="#fff" stroke="#ddd" rx="5"/>
            <text x="430" y="875" font-size="14" font-weight="bold">2. File Upload Flow</text>
            <text x="430" y="895" font-size="12">‚Ä¢ User uploads ‚Üí Laravel API</text>
            <text x="430" y="915" font-size="12">‚Ä¢ Laravel ‚Üí DO Spaces (direct)</text>
            <text x="430" y="935" font-size="12">‚Ä¢ Queue processing jobs ‚Üí Redis</text>

            <rect x="800" y="850" width="360" height="100" fill="#fff" stroke="#ddd" rx="5"/>
            <text x="810" y="875" font-size="14" font-weight="bold">3. Platform Automation</text>
            <text x="810" y="895" font-size="12">‚Ä¢ Laravel API ‚Üí Automation Service</text>
            <text x="810" y="915" font-size="12">‚Ä¢ Puppeteer ‚Üí External Platforms</text>
            <text x="810" y="935" font-size="12">‚Ä¢ Results ‚Üí Back to Laravel ‚Üí User</text>

            <rect x="1180" y="850" width="380" height="100" fill="#fff" stroke="#ddd" rx="5"/>
            <text x="1190" y="875" font-size="14" font-weight="bold">4. External API Calls</text>
            <text x="1190" y="895" font-size="12">‚Ä¢ Laravel ‚Üí OpenAI (pitch generation)</text>
            <text x="1190" y="915" font-size="12">‚Ä¢ Laravel ‚Üí SubmitHub API (playlisting)</text>
            <text x="1190" y="935" font-size="12">‚Ä¢ Laravel ‚Üí Email Service (notifications)</text>

            <rect x="40" y="970" width="740" height="90" fill="#e8f5e9" stroke="#4CAF50" rx="5"/>
            <text x="50" y="995" font-size="14" font-weight="bold">‚úÖ Key Architecture Benefits</text>
            <text x="50" y="1015" font-size="12">‚Ä¢ Traefik: Automatic SSL, no manual config</text>
            <text x="50" y="1035" font-size="12">‚Ä¢ DO Spaces: Cheap file storage ($5/mo)</text>
            <text x="50" y="1050" font-size="12">‚Ä¢ Laravel Sanctum: Simple SPA authentication</text>
            <text x="420" y="1015" font-size="12">‚Ä¢ MySQL: Proven, reliable database</text>
            <text x="420" y="1035" font-size="12">‚Ä¢ Docker: Easy deployment & scaling</text>
            <text x="420" y="1050" font-size="12">‚Ä¢ Monitoring: Optional but valuable</text>

            <rect x="800" y="970" width="360" height="90" fill="#fff3e0" stroke="#FF9800" rx="5"/>
            <text x="810" y="995" font-size="14" font-weight="bold">üí∞ Cost Breakdown</text>
            <text x="810" y="1015" font-size="12">‚Ä¢ VPS (16GB/8CPU): $80/month</text>
            <text x="810" y="1035" font-size="12">‚Ä¢ DO Spaces: $5/month</text>
            <text x="810" y="1050" font-size="12">‚Ä¢ Domain: ~$12/year</text>
            <text x="1010" y="1015" font-size="12">‚Ä¢ Total: ~$86/month</text>
            <text x="1010" y="1035" font-size="12">‚Ä¢ No hidden costs!</text>

            <rect x="1180" y="970" width="380" height="90" fill="#ffebee" stroke="#f44336" rx="5"/>
            <text x="1190" y="995" font-size="14" font-weight="bold">‚ö†Ô∏è External Service Costs</text>
            <text x="1190" y="1015" font-size="12">‚Ä¢ OpenAI API: Pay per use (~$0.002/pitch)</text>
            <text x="1190" y="1035" font-size="12">‚Ä¢ SubmitHub: Credits system</text>
            <text x="1190" y="1050" font-size="12">‚Ä¢ Email service: Usually free tier sufficient</text>
        </g>
    </g>
</svg>
</body>
</html>